(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{480:function(a,t,s){"use strict";s.r(t);var e=s(57),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"distribution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#distribution"}},[a._v("#")]),a._v(" Distribution")]),a._v(" "),s("h2",{attrs:{id:"summary"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[a._v("#")]),a._v(" Summary")]),a._v(" "),s("p",[a._v("This module is in charge of distributing collected transaction fee and inflated token to all validators and delegators. To reduce computation stress, a lazy distribution strategy is brought in. "),s("code",[a._v("lazy")]),a._v(" means that the benefit won't be paid directly to contributors automatically. The contributors are required to explicitly send transactions to withdraw their benefit, otherwise, their benefit will be kept in the global pool.")]),a._v(" "),s("h2",{attrs:{id:"benefit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#benefit"}},[a._v("#")]),a._v(" Benefit")]),a._v(" "),s("h3",{attrs:{id:"source"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#source"}},[a._v("#")]),a._v(" Source")]),a._v(" "),s("ol",[s("li",[a._v("The first signer of transactions (Collected to feeCollector in DeliverTx)")]),a._v(" "),s("li",[a._v("uplugcn tokens (Each hour Inflate stake token and add it to LooseTokens)")])]),a._v(" "),s("h3",{attrs:{id:"destination"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#destination"}},[a._v("#")]),a._v(" Destination")]),a._v(" "),s("ol",[s("li",[a._v("Validator")]),a._v(" "),s("li",[a._v("Delegator")]),a._v(" "),s("li",[a._v("Community Tax")]),a._v(" "),s("li",[a._v("Proposer Reward")])]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[s("RouterLink",{attrs:{to:"/concepts/general-concepts.html#staking-rewards-calculation-formula"}},[a._v("Calculation Formula")])],1)]),a._v(" "),s("h2",{attrs:{id:"usage-scenario"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage-scenario"}},[a._v("#")]),a._v(" Usage Scenario")]),a._v(" "),s("h3",{attrs:{id:"set-withdraw-address"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-withdraw-address"}},[a._v("#")]),a._v(" Set withdraw address")]),a._v(" "),s("p",[a._v("By default, the reward will be paid to the wallet address which send the delegation transaction.")]),a._v(" "),s("p",[a._v("The delegator could set a new wallet as reward paid address. To set another wallet(marked as "),s("code",[a._v("B")]),a._v(") as the paid address, delegator need to send another transaction from wallet "),s("code",[a._v("A")]),a._v(".")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("plugchaind tx distribution set-withdraw-addr "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("withdraw-addr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),s("h3",{attrs:{id:"withdraw-rewards"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#withdraw-rewards"}},[a._v("#")]),a._v(" Withdraw rewards")]),a._v(" "),s("p",[a._v("There are 2 ways to withdraw rewards according to different scenarios")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("withdraw-all-rewards")]),a._v(" : Withdraw all delegations rewards for a delegator")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("plugchaind tx distribution withdraw-all-rewards "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" --from"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("key-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" --fees"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("20uplugcn --chain-id"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("plugchain_520-1\n")])])]),s("ul",[s("li",[s("code",[a._v("withdraw-rewards")]),a._v(" : Withdraw rewards from a given validator address")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("plugchaind tx distribution withdraw-rewards "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("validator-addr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" --from"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("key-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" --fees"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("20uplugcn --chain-id"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("plugchain_520-1\n")])])]),s("h3",{attrs:{id:"query-reward-token"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#query-reward-token"}},[a._v("#")]),a._v(" Query reward token")]),a._v(" "),s("p",[a._v("Query all rewards earned by a delegator, optionally restrict to rewards from a single validator.")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("plugchaind query distribution rewards "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("delegator-addr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("validator-addr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),s("p",[a._v("For other distribution commands, please refer to "),s("RouterLink",{attrs:{to:"/cli-client/distribution.html"}},[a._v("distribution cli client")])],1)])}),[],!1,null,null,null);t.default=r.exports}}]);